Create a post
post
https://{subdomain}.unipile.com:{port}/api/v1/posts

Publish a post.

Body Params
account_id
string
required
length ≥ 1
The id of the account to perform the request from.

text
string
required
Linkedin: You can add a mention by inserting the index of the corresponding entry from the mentions array between two double braces. Example: Hey {{0}}, check this out !
Instagram: To mention a user, use the @ symbol followed by their username.

attachments
array of files

ADD file
repost
string
The id of an existing LinkedIn post to publish as repost. For a simple repost without commentary, text should be an empty string.

mentions
array of objects
Linkedin only


ADD object
external_link
string
Linkedin only An external link that should be displayed within a preview card. The URL must also be included in the post textual content. Otherwise, it will be automatically added at the end.

as_organization
string
length ≥ 1
Linkedin only Provide the ID of an organization over which you have control to perform the action on its behalf.

location
string
Instagram only: The location to tag in the post.

REQUEST EXAMPLES/ Code:

Shell:
curl --request POST \
     --url https://api1.unipile.com:13111/api/v1/posts \
     --header 'accept: application/json' \
     --header 'content-type: multipart/form-data'


Node:
const url = 'https://api1.unipile.com:13111/api/v1/posts';
const options = {
  method: 'POST',
  headers: {accept: 'application/json', 'content-type': 'multipart/form-data'}
};
fetch(url, options)
  .then(res => res.json())
  .then(json => console.log(json))
  .catch(err => console.error(err));


Ruby:
require 'uri'
require 'net/http'
url = URI("https://api1.unipile.com:13111/api/v1/posts")
http = Net::HTTP.new(url.host, url.port)
http.use_ssl = true
request = Net::HTTP::Post.new(url)
request["accept"] = 'application/json'
request["content-type"] = 'multipart/form-data'
response = http.request(request)
puts response.read_body


PHP:
<?php
require_once('vendor/autoload.php');
$client = new \GuzzleHttp\Client();
$response = $client->request('POST', 'https://api1.unipile.com:13111/api/v1/posts', [
  'headers' => [
    'accept' => 'application/json',
    'content-type' => 'multipart/form-data',
  ],
]);
echo $response->getBody();


R:
library(httr)
url <- "https://api1.unipile.com:13111/api/v1/posts"
response <- VERB("POST", url, content_type("application/octet-stream"), accept("application/json"))
content(response, "text")


C:
CURL *hnd = curl_easy_init();
curl_easy_setopt(hnd, CURLOPT_CUSTOMREQUEST, "POST");
curl_easy_setopt(hnd, CURLOPT_WRITEDATA, stdout);
curl_easy_setopt(hnd, CURLOPT_URL, "https://api1.unipile.com:13111/api/v1/posts");
struct curl_slist *headers = NULL;
headers = curl_slist_append(headers, "accept: application/json");
headers = curl_slist_append(headers, "content-type: multipart/form-data");
curl_easy_setopt(hnd, CURLOPT_HTTPHEADER, headers);
CURLcode ret = curl_easy_perform(hnd);


C#:
using RestSharp;
var options = new RestClientOptions("https://api1.unipile.com:13111/api/v1/posts");
var client = new RestClient(options);
var request = new RestRequest("");
request.AddHeader("accept", "application/json");
request.AddHeader("content-type", "multipart/form-data");
var response = await client.PostAsync(request);
Console.WriteLine("{0}", response.Content);


C++:
CURL *hnd = curl_easy_init();
curl_easy_setopt(hnd, CURLOPT_CUSTOMREQUEST, "POST");
curl_easy_setopt(hnd, CURLOPT_WRITEDATA, stdout);
curl_easy_setopt(hnd, CURLOPT_URL, "https://api1.unipile.com:13111/api/v1/posts");
struct curl_slist *headers = NULL;
headers = curl_slist_append(headers, "accept: application/json");
headers = curl_slist_append(headers, "content-type: multipart/form-data");
curl_easy_setopt(hnd, CURLOPT_HTTPHEADER, headers);
CURLcode ret = curl_easy_perform(hnd);


Clojure:
(require '[clj-http.client :as client])
(client/post "https://api1.unipile.com:13111/api/v1/posts" {:headers {:content-type "multipart/form-data"}
                                                            :accept :json})


Go:
package main
import (
	"fmt"
	"net/http"
	"io"
)
func main() {
	url := "https://api1.unipile.com:13111/api/v1/posts"
	req, _ := http.NewRequest("POST", url, nil)
	req.Header.Add("accept", "application/json")
	req.Header.Add("content-type", "multipart/form-data")
	res, _ := http.DefaultClient.Do(req)
	defer res.Body.Close()
	body, _ := io.ReadAll(res.Body)
	fmt.Println(string(body))
}


HTTP:
POST /api/v1/posts HTTP/1.1
Accept: application/json
Content-Type: multipart/form-data
Host: api1.unipile.com:13111


Java:
OkHttpClient client = new OkHttpClient();
Request request = new Request.Builder()
  .url("https://api1.unipile.com:13111/api/v1/posts")
  .post(null)
  .addHeader("accept", "application/json")
  .addHeader("content-type", "multipart/form-data")
  .build();
Response response = client.newCall(request).execute();


JavaScript:
const options = {
  method: 'POST',
  headers: {accept: 'application/json', 'content-type': 'multipart/form-data'}
};
fetch('https://api1.unipile.com:13111/api/v1/posts', options)
  .then(res => res.json())
  .then(res => console.log(res))
  .catch(err => console.error(err));


Kotlin:
val client = OkHttpClient()
val request = Request.Builder()
  .url("https://api1.unipile.com:13111/api/v1/posts")
  .post(null)
  .addHeader("accept", "application/json")
  .addHeader("content-type", "multipart/form-data")
  .build()
val response = client.newCall(request).execute()


Objective-C:
#import <Foundation/Foundation.h>
NSDictionary *headers = @{ @"accept": @"application/json",
                           @"content-type": @"multipart/form-data" };
NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:@"https://api1.unipile.com:13111/api/v1/posts"]                                                       cachePolicy:NSURLRequestUseProtocolCachePolicy
                                                   timeoutInterval:10.0];
[request setHTTPMethod:@"POST"];
[request setAllHTTPHeaderFields:headers];
NSURLSession *session = [NSURLSession sharedSession];
NSURLSessionDataTask *dataTask = [session dataTaskWithRequest:request
                                            completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {
                                                if (error) {
                                                    NSLog(@"%@", error);
                                                } else {
                                                    NSHTTPURLResponse *httpResponse = (NSHTTPURLResponse *) response;
                                                    NSLog(@"%@", httpResponse);
                                                }
                                            }];
[dataTask resume];


OCaml:
open Cohttp_lwt_unix
open Cohttp
open Lwt
let uri = Uri.of_string "https://api1.unipile.com:13111/api/v1/posts" in
let headers = Header.add_list (Header.init ()) [
  ("accept", "application/json");
  ("content-type", "multipart/form-data");
] in
Client.call ~headers `POST uri
>>= fun (res, body_stream) ->
  (* Do stuff with the result *)


PowerShell:
$headers=@{}
$headers.Add("accept", "application/json")
$headers.Add("content-type", "multipart/form-data")
$response = Invoke-WebRequest -Uri 'https://api1.unipile.com:13111/api/v1/posts' -Method POST -Headers $headers


Python:
import requests
url = "https://api1.unipile.com:13111/api/v1/posts"
headers = {
    "accept": "application/json",
    "content-type": "multipart/form-data"
}
response = requests.post(url, headers=headers)
print(response.text)


Swift:
import Foundation
let url = URL(string: "https://api1.unipile.com:13111/api/v1/posts")!
var request = URLRequest(url: url)
request.httpMethod = "POST"
request.timeoutInterval = 10
request.allHTTPHeaderFields = [
  "accept": "application/json",
  "content-type": "multipart/form-data"
]
let (data, _) = try await URLSession.shared.data(for: request)
print(String(decoding: data, as: UTF8.self))


RESPONSE:
{
  "object": "PostCreated",
  "post_id": "string"
}